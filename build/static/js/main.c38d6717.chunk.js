(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,a){e.exports={error:"Error_error__2eneD",error__name:"Error_error__name__2ohjZ"}},11:function(e,t,a){e.exports={overlay:"Modal_overlay__2hSbT",modal:"Modal_modal__3sGQU"}},13:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__2bEiF"}},14:function(e,t,a){e.exports={button:"Button_button__810Fb"}},20:function(e,t,a){},21:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var r,n=a(1),c=a.n(n),o=a(6),i=a.n(o),s=(a(20),a(3)),l=(a(21),a(5)),u=a.n(l),m=["title","titleId"];function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},b.apply(this,arguments)}function j(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},c=Object.keys(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)a=c[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function d(e,t){var a=e.title,c=e.titleId,o=j(e,m);return n.createElement("svg",b({height:32,width:32,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},o),a?n.createElement("title",{id:c},a):null,r||(r=n.createElement("path",{d:"M19.427 20.427a8.5 8.5 0 1 1 1.083-.917l5.998 5.998a.699.699 0 0 1-.008.992.7.7 0 0 1-.992.008l-6.08-6.08ZM14.5 21a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15Z",fill:"#929292",fillRule:"evenodd"})))}var h=n.forwardRef(d),f=(a.p,a(0));var _=function(e){var t=e.onSubmit,a=Object(n.useState)(""),r=Object(s.a)(a,2),c=r[0],o=r[1],i=function(){o("")};return Object(f.jsx)("header",{className:u.a.searchBar,children:Object(f.jsxs)("form",{className:u.a.searchForm,onSubmit:function(e){e.preventDefault(),t(c),i()},children:[Object(f.jsx)("button",{type:"submit",className:u.a.searchForm__button,children:Object(f.jsx)(h,{})}),Object(f.jsx)("input",{className:u.a.searchForm__input,type:"text",value:c,onChange:function(e){o(e.currentTarget.value)},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},g=a(12),O=a(13),p=a.n(O);var v={fetchImage:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&per_page=12&key=23195286-789ed49c86d3fd3c443dc5a81&image_type=photo&orientation=horizontal")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ".concat(e," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")))}))}},x=a(9),y=a.n(x);var w=function(e){var t=e.webformatURL,a=e.tags,r=e.index;return Object(f.jsx)("li",{className:y.a.imageGalleryItem,children:Object(f.jsx)("img",{src:t,alt:a,className:y.a.imageGalleryItem__image,"data-index":r})})},S=a(14),I=a.n(S);var E=function(e){var t=e.onLoadMore;return Object(f.jsx)("button",{type:"button",onClick:t,className:I.a.button,children:"Load more"})},F=(a(23),a(15)),N=a.n(F);var G=function(){return Object(f.jsx)(N.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80})},k=a(10),L=a.n(k);var C=function(e){var t=e.name;return Object(f.jsxs)("p",{className:L.a.error,children:["\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ",Object(f.jsxs)("span",{className:L.a.error__name,children:['"',t,'"']})," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"]})},M=a(11),R=a.n(M),T=document.querySelector("#modal-root");var B=function(e){var t=e.image,a=e.onClose,r=function(e){"Escape"===e.code&&a()};return window.addEventListener("keydown",r),Object(n.useEffect)((function(){window.removeEventListener("keydown",r)})),Object(o.createPortal)(Object(f.jsx)("div",{className:R.a.overlay,onClick:function(e){e.target===e.currentTarget&&a()},children:Object(f.jsx)("div",{className:R.a.modal,children:Object(f.jsx)("img",{src:t.largeImageURL,alt:t.tags})})}),T)};var P=function(e){var t=e.name,a=Object(n.useState)([]),r=Object(s.a)(a,2),c=r[0],o=r[1],i=Object(n.useState)(1),l=Object(s.a)(i,2),u=l[0],m=l[1],b=Object(n.useState)(null),j=Object(s.a)(b,2),d=j[0],h=j[1],_=Object(n.useState)("idle"),O=Object(s.a)(_,2),x=O[0],y=O[1],S=Object(n.useState)(!1),I=Object(s.a)(S,2),F=I[0],N=I[1],k=Object(n.useState)(null),L=Object(s.a)(k,2),M=L[0],R=L[1];Object(n.useEffect)((function(){t&&(y("pending"),v.fetchImage({name:t,page:u}).then((function(e){o((function(t){return[].concat(Object(g.a)(t),Object(g.a)(e.hits))})),y("resolved")})).catch((function(e){h(e.message),y("rejected")})))}),[t,u]);var T=function(){setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)};return"idle"===x?Object(f.jsx)(f.Fragment,{}):"pending"===x?Object(f.jsx)(G,{}):"rejected"===x||0===c.length||""===t.trim()||d?Object(f.jsx)(C,{name:t}):"resolved"===x?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("ul",{className:p.a.imageGallery,onClick:function(e){R(e.target.getAttribute("data-index")),N(!0)},children:c.map((function(e,t){var a=e.id,r=e.webformatURL,n=e.tags;return Object(f.jsx)(w,{webformatURL:r,tags:n,index:t},a)}))}),Object(f.jsx)(E,{onLoadMore:function(){m((function(e){return e+1})),T()}}),F&&Object(f.jsx)(B,{image:c[M],onClose:function(){N(!1),R(null)}})]}):void 0};var Q=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],r=t[1];return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(_,{onSubmit:function(e){r(e)}}),Object(f.jsx)(P,{name:a})]})};i.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(Q,{})}),document.getElementById("root"))},5:function(e,t,a){e.exports={searchBar:"Searchbar_searchBar__1mICa",searchForm:"Searchbar_searchForm__3z4eQ",searchForm__button:"Searchbar_searchForm__button__3RQQQ",searchForm__input:"Searchbar_searchForm__input__2ov7y"}},9:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2jbNY",imageGalleryItem__image:"ImageGalleryItem_imageGalleryItem__image__3Wehh"}}},[[44,1,2]]]);
//# sourceMappingURL=main.c38d6717.chunk.js.map