{"version":3,"sources":["components/Error/Error.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","icons/search.svg","components/Searchbar/Searchbar.js","api/api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/Error/Error.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","_path","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgSearch","_ref","svgRef","title","titleId","props","height","width","xmlns","ref","id","d","fill","fillRule","ForwardRef","Searchbar","onSubmit","useState","imageName","setImageName","reset","className","s","searchBar","searchForm","e","preventDefault","type","searchForm__button","searchForm__input","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","api","fetchImage","name","page","fetch","then","res","ok","json","Promise","reject","Error","ImageGalleryItem","webformatURL","tags","index","imageGalleryItem","src","alt","imageGalleryItem__image","Button","onLoadMore","onClick","button","PendingLoader","color","error","error__name","modalRoot","document","querySelector","Modal","image","onClose","handleKeyDown","code","window","addEventListener","useEffect","removeEventListener","createPortal","overlay","modal","largeImageURL","ImageGallery","images","setImages","setPage","setError","status","setStatus","showModal","setShowModal","imageIndex","setImageIndex","API","prevName","prevImages","hits","catch","message","scroll","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","trim","imageGallery","getAttribute","map","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5b3e8347.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"Error_error__2eneD\",\"error__name\":\"Error_error__name__2ohjZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2hSbT\",\"modal\":\"Modal_modal__3sGQU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__2bEiF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__810Fb\"};","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgSearch(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    height: 32,\n    width: 32,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19.427 20.427a8.5 8.5 0 1 1 1.083-.917l5.998 5.998a.699.699 0 0 1-.008.992.7.7 0 0 1-.992.008l-6.08-6.08ZM14.5 21a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15Z\",\n    fill: \"#929292\",\n    fillRule: \"evenodd\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSearch);\nexport default __webpack_public_path__ + \"static/media/search.03155ea2.svg\";\nexport { ForwardRef as ReactComponent };","import s from './Searchbar.module.css';\nimport { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport {ReactComponent as Icon} from '../../icons/search.svg';\n\nfunction Searchbar({onSubmit}) {\n    const [imageName, setImageName] = useState('');    \n\n    const handleChange = (e) => {\n        setImageName(e.currentTarget.value);\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        onSubmit(imageName);\n        reset();\n    }\n\n    const reset = () => {\n        setImageName('');\n    }\n\n    return (\n        <header className={s.searchBar}>\n            <form className={s.searchForm} onSubmit={handleSubmit}>\n                <button type=\"submit\" className={s.searchForm__button}>\n                    <Icon />\n                </button>\n\n                <input\n                    className={s.searchForm__input}\n                    type=\"text\"\n                    value={imageName}\n                    onChange={handleChange}\n                    autoComplete=\"off\"\n                    autoFocus\n                    placeholder=\"Search images and photos\"\n                />\n            </form>\n        </header>\n    );\n}\n\nSearchbar.propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n}\n\nexport default Searchbar;\n","function fetchImage(name, page) {\n    return fetch(`https://pixabay.com/api/?q=${name}&page=${page}&per_page=12&key=23195286-789ed49c86d3fd3c443dc5a81&image_type=photo&orientation=horizontal`)\n        .then(res => {\n            if (res.ok) {\n                return res.json();\n            }\n\n            return Promise.reject(new Error(`Изображений с именем ${name} не найдено`));\n        });\n}\n\nconst api = {\n    fetchImage,\n};\n\nexport default api;\n","import s from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nfunction ImageGalleryItem({webformatURL, tags, index}) {            \n    return <li className={s.imageGalleryItem}>\n            <img src={webformatURL} alt={tags} className={s.imageGalleryItem__image} data-index={index}/>\n        </li>;\n}\n\nImageGalleryItem.propTypes = {\n    webformatURL: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n    index: PropTypes.number.isRequired,\n  };\n\nexport default ImageGalleryItem;\n","import s from './Button.module.css';\nimport PropTypes from 'prop-types';\n\nfunction Button({onLoadMore}) {\n    return <button type='button' onClick={onLoadMore} className={s.button}>Load more</button>;\n}\n\nButton.propTypes = {\n    onLoadMore: PropTypes.func.isRequired,\n}\n\nexport default Button;\n","import 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport Loader from 'react-loader-spinner';\n\nfunction PendingLoader() {\n    return <Loader\n        type=\"ThreeDots\"\n        color=\"#3f51b5\"\n        height={80}\n        width={80}      \n    />;    \n}\n\nexport default PendingLoader;\n","import s from './Error.module.css';\nimport PropTypes from 'prop-types';\n\nfunction Error({name}) {\n    return <p className={s.error}>Изображений с именем <span className={s.error__name}>\"{name}\"</span> не найдено</p>;\n};\n\nError.propTypes = {\n    name: PropTypes.string.isRequired,\n}\n\nexport default Error;\n","import s from './Modal.module.css';\nimport {useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {createPortal} from 'react-dom';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({image, onClose}) {\n    \n    const handleKeyDown = (e) => {\n        if (e.code === 'Escape') {\n            onClose();\n        }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    useEffect(() => {\n        window.removeEventListener('keydown', handleKeyDown);\n    })\n\n    const handleBackdropClick = (e) => {\n        if (e.target === e.currentTarget) {\n            onClose();\n        }\n    }\n\n    return createPortal(\n    <div className={s.overlay} onClick={handleBackdropClick}> \n        <div className={s.modal}>\n            <img src={image.largeImageURL} alt={image.tags} />\n        </div>\n    </div>, modalRoot,\n    );\n}\n\nModal.propTypes = {\n    image: PropTypes.shape({\n        largeImageURL: PropTypes.string.isRequired,\n        tags: PropTypes.string,\n    }),\n    onClose: PropTypes.func.isRequired,\n};\n\nexport default Modal;\n","import s from './ImageGallery.module.css';\nimport { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport API from '../../api/api';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport Button from '../Button/Button';\nimport PendingLoader from '../Loader/Loader';\nimport Error from '../Error/Error';\nimport Modal from '../Modal/Modal';\n\nfunction ImageGallery({ name }) {\n    const [images, setImages] = useState([]);\n    const [page, setPage] = useState(1);\n    const [error, setError] = useState(null);\n    const [status, setStatus] = useState('idle');\n    const [showModal, setShowModal] = useState(false);\n    const [imageIndex, setImageIndex] = useState(null);\n\n    useEffect(() => {\n        if (!name) {\n            return\n        }\n\n        setStatus('pending');\n\n        API.fetchImage({ name, page })\n            .then(images => {\n                setPage(prevName => prevName !== name ? setPage(1) : setPage(page))\n                setImages(prevImages => [...prevImages, ...images.hits]);\n                setStatus('resolved');\n            })\n            .catch(error => {\n                setError(error.message);\n                setStatus('rejected');\n            });\n    }, [name, page]);\n\n    const openModal = (e) => {\n        setImageIndex(e.target.getAttribute('data-index'));\n        setShowModal(true);\n    };\n\n    const closeModal = () => {\n        setShowModal(false);\n        setImageIndex(null);\n    }\n\n    const loadMore = () => {\n        setPage(page => page + 1);\n        scroll();\n    }\n\n    const scroll = () => {\n        setTimeout(() => {\n            window.scrollTo({\n                top: document.documentElement.scrollHeight,\n                behavior: 'smooth',\n            });\n        }, 1000);\n    }\n\n    if (status === 'idle') {\n        return <></>;\n    }\n\n    if (status === 'pending') {\n        return <PendingLoader />;\n    }\n\n    if (status === 'rejected' || images.length === 0 || name.trim() === '' || error) {\n        return <Error name={name} />;\n    }\n\n    if (status === 'resolved') {\n        return (\n            <>\n                <ul className={s.imageGallery} onClick={openModal}>\n                    {images.map(\n                        ({ id, webformatURL, tags }, index) =>\n                            <ImageGalleryItem key={id} webformatURL={webformatURL} tags={tags} index={index} />\n                    )}\n                </ul>\n                <Button onLoadMore={loadMore} />\n                {showModal && (<Modal image={images[imageIndex]} onClose={closeModal} />)}\n            </>\n        );\n    }\n}\n\nImageGallery.propTypes = {\n    name: PropTypes.string.isRequired,\n}\n\nexport default ImageGallery;\n","import './App.css';\nimport React, { useState } from 'react';\nimport Searchbar from './components/Searchbar/Searchbar';\nimport ImageGallery from './components/ImageGallery/ImageGallery';\n\nfunction App() {\n  const [imageName, setImageName] = useState('');\n\n  const addName = (imageName) => {\n    setImageName(imageName);\n  }\n\n  return (\n  <div className=\"App\">\n      <Searchbar onSubmit={addName} />\n      <ImageGallery name={imageName} />\n  </div>\n  )\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchBar\":\"Searchbar_searchBar__1mICa\",\"searchForm\":\"Searchbar_searchForm__3z4eQ\",\"searchForm__button\":\"Searchbar_searchForm__button__3RQQQ\",\"searchForm__input\":\"Searchbar_searchForm__input__2ov7y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__2jbNY\",\"imageGalleryItem__image\":\"ImageGalleryItem_imageGalleryItem__image__3Wehh\"};"],"sourceRoot":""}