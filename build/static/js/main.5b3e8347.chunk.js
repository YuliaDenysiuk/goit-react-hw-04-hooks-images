(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,r){e.exports={error:"Error_error__2eneD",error__name:"Error_error__name__2ohjZ"}},11:function(e,t,r){e.exports={overlay:"Modal_overlay__2hSbT",modal:"Modal_modal__3sGQU"}},13:function(e,t,r){e.exports={imageGallery:"ImageGallery_imageGallery__2bEiF"}},14:function(e,t,r){e.exports={button:"Button_button__810Fb"}},20:function(e,t,r){},21:function(e,t,r){},44:function(e,t,r){"use strict";r.r(t);var a,n=r(1),c=r.n(n),o=r(6),i=r.n(o),s=(r(20),r(3)),l=(r(21),r(5)),u=r.n(l),m=["title","titleId"];function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},b.apply(this,arguments)}function j(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},c=Object.keys(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)r=c[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function d(e,t){var r=e.title,c=e.titleId,o=j(e,m);return n.createElement("svg",b({height:32,width:32,xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":c},o),r?n.createElement("title",{id:c},r):null,a||(a=n.createElement("path",{d:"M19.427 20.427a8.5 8.5 0 1 1 1.083-.917l5.998 5.998a.699.699 0 0 1-.008.992.7.7 0 0 1-.992.008l-6.08-6.08ZM14.5 21a7.5 7.5 0 1 0 0-15 7.5 7.5 0 0 0 0 15Z",fill:"#929292",fillRule:"evenodd"})))}var f=n.forwardRef(d),h=(r.p,r(0));var _=function(e){var t=e.onSubmit,r=Object(n.useState)(""),a=Object(s.a)(r,2),c=a[0],o=a[1],i=function(){o("")};return Object(h.jsx)("header",{className:u.a.searchBar,children:Object(h.jsxs)("form",{className:u.a.searchForm,onSubmit:function(e){e.preventDefault(),t(c),i()},children:[Object(h.jsx)("button",{type:"submit",className:u.a.searchForm__button,children:Object(h.jsx)(f,{})}),Object(h.jsx)("input",{className:u.a.searchForm__input,type:"text",value:c,onChange:function(e){o(e.currentTarget.value)},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},g=r(12),O=r(13),p=r.n(O);var v={fetchImage:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&per_page=12&key=23195286-789ed49c86d3fd3c443dc5a81&image_type=photo&orientation=horizontal")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ".concat(e," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e")))}))}},x=r(9),y=r.n(x);var w=function(e){var t=e.webformatURL,r=e.tags,a=e.index;return Object(h.jsx)("li",{className:y.a.imageGalleryItem,children:Object(h.jsx)("img",{src:t,alt:r,className:y.a.imageGalleryItem__image,"data-index":a})})},S=r(14),I=r.n(S);var E=function(e){var t=e.onLoadMore;return Object(h.jsx)("button",{type:"button",onClick:t,className:I.a.button,children:"Load more"})},F=(r(23),r(15)),N=r.n(F);var G=function(){return Object(h.jsx)(N.a,{type:"ThreeDots",color:"#3f51b5",height:80,width:80})},k=r(10),L=r.n(k);var C=function(e){var t=e.name;return Object(h.jsxs)("p",{className:L.a.error,children:["\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c ",Object(h.jsxs)("span",{className:L.a.error__name,children:['"',t,'"']})," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"]})},M=r(11),R=r.n(M),T=document.querySelector("#modal-root");var B=function(e){var t=e.image,r=e.onClose,a=function(e){"Escape"===e.code&&r()};return window.addEventListener("keydown",a),Object(n.useEffect)((function(){window.removeEventListener("keydown",a)})),Object(o.createPortal)(Object(h.jsx)("div",{className:R.a.overlay,onClick:function(e){e.target===e.currentTarget&&r()},children:Object(h.jsx)("div",{className:R.a.modal,children:Object(h.jsx)("img",{src:t.largeImageURL,alt:t.tags})})}),T)};var P=function(e){var t=e.name,r=Object(n.useState)([]),a=Object(s.a)(r,2),c=a[0],o=a[1],i=Object(n.useState)(1),l=Object(s.a)(i,2),u=l[0],m=l[1],b=Object(n.useState)(null),j=Object(s.a)(b,2),d=j[0],f=j[1],_=Object(n.useState)("idle"),O=Object(s.a)(_,2),x=O[0],y=O[1],S=Object(n.useState)(!1),I=Object(s.a)(S,2),F=I[0],N=I[1],k=Object(n.useState)(null),L=Object(s.a)(k,2),M=L[0],R=L[1];Object(n.useEffect)((function(){t&&(y("pending"),v.fetchImage({name:t,page:u}).then((function(e){m((function(e){return m(e!==t?1:u)})),o((function(t){return[].concat(Object(g.a)(t),Object(g.a)(e.hits))})),y("resolved")})).catch((function(e){f(e.message),y("rejected")})))}),[t,u]);var T=function(){setTimeout((function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),1e3)};return"idle"===x?Object(h.jsx)(h.Fragment,{}):"pending"===x?Object(h.jsx)(G,{}):"rejected"===x||0===c.length||""===t.trim()||d?Object(h.jsx)(C,{name:t}):"resolved"===x?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("ul",{className:p.a.imageGallery,onClick:function(e){R(e.target.getAttribute("data-index")),N(!0)},children:c.map((function(e,t){var r=e.id,a=e.webformatURL,n=e.tags;return Object(h.jsx)(w,{webformatURL:a,tags:n,index:t},r)}))}),Object(h.jsx)(E,{onLoadMore:function(){m((function(e){return e+1})),T()}}),F&&Object(h.jsx)(B,{image:c[M],onClose:function(){N(!1),R(null)}})]}):void 0};var Q=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),r=t[0],a=t[1];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(_,{onSubmit:function(e){a(e)}}),Object(h.jsx)(P,{name:r})]})};i.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(Q,{})}),document.getElementById("root"))},5:function(e,t,r){e.exports={searchBar:"Searchbar_searchBar__1mICa",searchForm:"Searchbar_searchForm__3z4eQ",searchForm__button:"Searchbar_searchForm__button__3RQQQ",searchForm__input:"Searchbar_searchForm__input__2ov7y"}},9:function(e,t,r){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__2jbNY",imageGalleryItem__image:"ImageGalleryItem_imageGalleryItem__image__3Wehh"}}},[[44,1,2]]]);
//# sourceMappingURL=main.5b3e8347.chunk.js.map